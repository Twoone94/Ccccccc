## 项目目标与定位
- 明确产品目标：提升创作与项目管理效率，桌面端稳定、快速、易用
- 以现有三界面为主线，完成从原型到专业级软件的设计系统与工程化搭建
- 以“可扩展、可维护、可测试”为工程原则，支持后续能力接入（AI、视频处理等）

## 现状梳理（基于三大界面）
### 软件首页（`/` → SoftwareHomepage）
- 作用：项目入口与快捷功能、项目列表管理
- 现状问题：视觉与信息层级未统一；项目卡与操作缺少统一组件；localStorage 数据无统一模型
- 改进方向：统一卡片/工具按钮组件；加入空状态/错误态；项目模型规范化

### 文案创作（`/copywriting` → CopywritingCreationInterface）
- 作用：原文输入、主文案编辑、侧边聊天协作
- 现状问题：三栏栅格与滚动区为页面内自定义，样式与交互不可复用；工具栏、窗口控制缺少一致规范
- 改进方向：抽象“工具栏”“可拖拽分栏”“滚动区域”为通用组件；编辑区与聊天区交互规则统一

### 项目界面（`/project` → ProjectInterface）
- 作用：分镜管理与视频生成/选择
- 现状问题：表格/卡片/导入操作为页面内实现，缺组件化；数据模型与状态流转分散在 localStorage
- 改进方向：建立分镜数据模型与状态机；抽象分镜表/视频列表为业务组件；统一批量操作与进度反馈

## 设计系统与规范建设
- 颜色与语义色：品牌主色、灰阶、成功/警告/错误；对比度达标（WCAG AA）
- 排版与字体：中文/英文字体搭配；字号刻度（如 12/14/16/18/20/24/32）；行高与字重规范
- 间距与尺寸：统一 spacing scale（4/8/12/16/24/32）；容器宽度与断点（桌面优先）
- 阴影/圆角/边框：规范化层级与组件风格；悬浮与按压态一致
- 图标策略：统一来源与尺寸（16/20/24）；命名与使用规范
- 主题与暗色模式：CSS 变量驱动；支持明暗主题切换
- 无障碍：键盘可达、焦点样式、语义标签；颜色对比度检查

## 组件体系（按层次建设）
- 基础组件：按钮、输入框、选择、对话框、标签、卡片、滚动区域、工具栏、分隔/栅格
- 布局组件：顶栏、侧栏、分栏（可拖拽）、面板容器、抽屉
- 业务组件：
  - 首页：项目卡、功能入口区块、登录/欢迎卡
  - 文案：原文面板、主文案编辑器、聊天气泡/消息列表、提示词面板
  - 项目：分镜表（行/列/批量操作）、视频缩略列表、导入/生成进度条
- 规范：目录与命名统一；组件属性/交互一致；样式从设计系统变量读取
- 组件演示：搭建组件示例页或文档演示（便于评审与复用）

## 技术架构与桌面封装
- 前端：保留当前 React + 路由 + Tailwind；引入组件库策略（优先自建 + 适度引入 shadcn/ui 作为基础）
- 状态管理：引入轻量状态（如 Zustand）管理页面间共享数据；统一数据模型与持久化策略
- 数据层：抽象 localStorage 为仓库接口，预留后端 API（未来切换无痛）
- 桌面封装：优先 Tauri（体积小、性能好）；备选 Electron（生态成熟），按需求选型
- 国际化与文案：i18n 预埋；文案统一管理
- 日志与错误：统一错误边界与错误提示；操作日志与埋点

## 路由与导航规范
- 路由清单：`/`（首页） `/copywriting`（文案） `/project`（项目） 后续子路由用于二级面板
- 导航与返回：统一返回首页/上一页规则；面包屑/标签页按需
- 空/加载/错误态：为每页与关键组件设计标准占位与反馈

## 质量保障与工程化
- 代码规范：ESLint + Prettier + Tailwind 约束；Commit 规范（Conventional Commits）
- 测试：单元（组件/数据模型）、快照（UI）、E2E（关键流程：新建项目→编辑文案→生成视频）
- CI：自动构建与测试；打包产物（Tauri/Electron）生成与签名流程
- 性能：按需加载、虚拟列表（分镜/视频缩略）、避免不必要重渲染
- 安全与隐私：本地数据隔离；外部接口鉴权；敏感信息不落盘

## 里程碑（建议 4 个阶段）
- M1 设计系统与基础组件（1–2 周）
  - 完成颜色/排版/间距变量；落地按钮、输入、卡片、工具栏、滚动区域
- M2 业务组件与三页重构（2–3 周）
  - 首页重构为组件化；文案页抽象分栏/编辑/聊天组件；项目页抽象分镜表与视频列表
- M3 状态管理与桌面封装（1–2 周）
  - 引入数据模型与状态；统一持久化；完成 Tauri/Electron 桌面打包与自动更新方案
- M4 质量与发布（1–2 周）
  - 完成测试矩阵与性能优化；CI/CD；Beta 发布与反馈迭代

## 立即落地清单（按优先级）
- 建立设计系统 tokens（颜色/字号/间距/圆角/阴影/语义色）并接入 Tailwind 配置
- 抽象通用“滚动区域”“工具栏”“可拖拽分栏”组件，替换三页内自定义实现
- 统一项目数据模型与仓库接口（取代分散的 localStorage 读写）
- 首页：项目卡组件化、空状态与错误态、快捷入口规范化
- 文案页：编辑器与聊天区交互规范（发送、加载、错误）；对齐工具栏与窗口控制
- 项目页：分镜表行/列/批量操作模型化；导入/生成进度反馈统一；视频缩略组件复用

## 成果物与验收标准
- 设计系统文档（色板/字号/间距/组件规范）与在线演示页
- 三界面统一视觉与交互；核心组件在两个以上页面复用
- 构建与打包可在 CI 通过；基础测试覆盖率达标；应用可安装运行

## 风险与应对
- 需求变动：以组件化与设计系统降低改动成本
- 技术选型：先以 Tauri PoC 验证；不满足再转 Electron
- 性能瓶颈：分镜与视频列表采用虚拟滚动与分块渲染

## 下一步
- 先完成 M1：冻结设计系统变量与基础组件名单；创建组件演示页用于评审
- 并行进行 M2 的页面重构 spike，验证组件复用与交互框架