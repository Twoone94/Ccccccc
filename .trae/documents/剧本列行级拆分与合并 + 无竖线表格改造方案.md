## 目标
- 表格去掉竖向分割线，保留行间水平分隔或卡片化背景，提升贴合度。
- 剧本列支持：每句占一行、向上/向下拆分、与上一/下一行合并、跨行移动句子、整行拆分为多分镜。
- 交互顺滑且可撤销，保持本地自动保存与现有统计。

## 数据与算法
- ProjectItem 扩展（保持向后兼容）：`scriptLines?: string[]` 用于行内句子。
- 句子切分：中文/中英混合分句 Regex，按 `([。！？；…]+[””」』]?)`、换行、分号等；保留标点在句尾。
- 映射：展示时优先 `scriptLines`，否则从 `script` 动态切分。

## 操作定义
- `mergeWithPrev(rowId)`：将当前行全部 `scriptLines` 追加到上一行末尾，删除当前行。
- `mergeWithNext(rowId)`：将当前行追加到下一行前部，删除当前行。
- `splitRow(rowId)`：按句子将一行拆为多行分镜，逐行插入到当前位置（重排 `id`）。
- `moveLineToPrev(rowId, lineIdx)`：把该句移动到上一行末尾。
- `moveLineToNext(rowId, lineIdx)`：把该句移动到下一行行首。
- `resegment(rowId)`：重新按算法切分当前行文本，覆盖 `scriptLines`。
- 所有操作走统一 `applyScriptOps(items, ops)`，与现有 `applyTextOps`/`applyStoryboardOps`思路一致，生成新 `items` 并触发 `scheduleSave`。

## UI 改造
- 去竖线：移除 `border-r border-app` 类，列之间以 `gap` 与浅色背景区分；保留表头样式。
- 剧本列渲染：
  - 每句一行，行前提供操作按钮：上移/下移/向上拆分/向下拆分/合并到上/合并到下；支持键盘快捷键（↑/↓、Shift+↑/↓、Ctrl+Backspace/Enter）。
  - 整行工具条：`拆为多分镜`、`重新分句`；编辑模式下直接回车新句、删除空句自动清理。
- 撤销/重做：沿用历史栈模式（参考文案页的 `history` 维护方式），在项目页维护一个轻量 `historyRef`（最近 20 步）。

## 文件改动点
- `src/store/project.ts`：补充 `scriptLines?: string[]`（向后兼容，不影响已存数据）。
- `src/utils/text.ts`：新增 `splitChineseSentences(text: string): string[]`。
- `src/pages/ProjectInterface.tsx`：
  - UI：调整表头/行渲染、剧本列的行级控件与快捷键。
  - 逻辑：实现 `applyScriptOps`、`merge/split/move` 操作与 `scheduleSave` 集成；重排 `id`。
- 无需改动持久化键名；自动保存沿用现有节流。

## 验证
- 新建项目导入 `.txt/.md` → 自动切分并展示行。
- 连续执行向上/向下拆分与合并 → `items.length` 与行内句子变化正确，`id` 连续，保存成功。
- 回滚与重做在 20 步内可用；刷新后数据一致。

## 进一步可参考
- 列宽自适应 + 行高自适应：剧本列高度随句子行数扩展，当前视频/分镜列保持固定比例缩略图。
- 分镜连写快捷键：选中一句后按 `Alt+S` 将其独立成新分镜行。
- 批量整段重排：在多选状态下支持跨行拖拽句子（后续用 `@dnd-kit`）。

确认后我将按以上方案增量实现，尽量复用现有工具函数与保存机制。