## 项目概览
- 技术栈：React 18 + Vite 5 + TypeScript + TailwindCSS + React Router，含 Electron 桌面开发脚本（package.json:7-12）
- 现有页面：主页、文案创作、项目界面（src/App.tsx:10-13），UI 组件自研（Toolbar/ScrollArea/SplitColumns/Modal）
- 主题与设计：已定义基础色板与圆角阴影（tailwind.config.cjs:6-26），页面内仍大量直接使用十六进制颜色

## 总体目标
- 面向零基础：用最少概念实现“能跑、好用、可扩展”三件事
- 近期交付：统一风格与交互、稳定数据模型、打通基础工作流（主页→新建项目→项目表格→保存/预览）

## 优化优先级（从高到低）
- 统一主题与样式：用 Tailwind 主题替代硬编码色值，减少行内 style（tailwind.config.cjs:6-26；如 src/pages/SoftwareHomepage.tsx 多处）
- 交互与响应式修复：移动端遮罩逻辑与侧栏显示（src/pages/SoftwareHomepage.tsx:235 目前始终显示遮罩）
- 数据模型与持久化：统一 localStorage 使用，抽离到“项目仓库”模块，提供类型与接口（src/pages/SoftwareHomepage.tsx:16-36, 41-51；src/pages/ProjectInterface.tsx:109-120, 181-187）
- 列表性能与可用性：长列表滚动与虚拟化、滚动条一致行为（ProjectInterface 已有自研滚动条逻辑，后续引入简单虚拟化）
- 可访问性与键盘操作：按钮 aria/role 及焦点管理（已有部分实现，系统性补齐）

## 两周迭代计划
### 第1-2天：基线梳理与主题落地
- 建立全局样式约定：背景/边框/文本/按钮状态映射到主题色
- 将主页和文案页硬编码色值替换为主题类名（如 `text-[#fafafa]` → `text-text-primary`；`bg-[#1d1d1d]` → `bg-surface`）
- 对 Toolbar/ScrollArea/SplitColumns 组件补充最小类型与 Props 约束（src/components/ui/*.tsx）

### 第3-4天：响应式与布局修复
- 主页侧栏与遮罩：添加“菜单开关”状态，移动端仅在开关时显示遮罩（src/pages/SoftwareHomepage.tsx:235）
- 主区域高度与滚动：统一 `h-[calc(100vh-48px)]` 的滚动容器，避免双滚动条冲突

### 第5-6天：数据仓库与路由
- 新建 `src/store/project.ts`（仅定义，不引入复杂库）封装项目的读取/保存/更新，统一键名与类型
- App 路由保留现状并新增 Storyboard 页占位（src/App.tsx:10-13），主页“新建项目”走统一创建流程（SoftwareHomepage.tsx:41-51）

### 第7-8天：项目表格可用性
- 将保存按钮与自动保存合并成清晰的用户动作；挂钩到 `store.save()`（src/pages/ProjectInterface.tsx:181-187）
- 为“生成视频/预览”提供稳定占位与禁用态，错误与进度提示
- 列表滚动行为统一：自研滚动条保持，但加入简单虚拟化（>100 行时）

### 第9天：可访问性与键盘操作
- 为主操作按钮补全 `aria-label/aria-pressed`，回车/空格触发（CopywritingCreationInterface.tsx 已部分实现）
- 焦点环与 `focus-visible` 类统一

### 第10天：轻量测试与质量闸
- 接入 Vitest + React Testing Library；为 store 与 2 个关键组件写最小单测
- Vite 预览与 Electron dev 流程检查（vite.config.ts:6 端口一致性）

### 第11-12天：打磨与小功能
- 文案页：草稿保存提示与恢复；右侧工具区间距校正（CopywritingCreationInterface.tsx:124-137）
- 主页：搜索条动画与无结果态细化；卡片与列表视图一致交互（SoftwareHomepage.tsx:340-471）
- 项目页：批量操作的占位实现与禁用/加载状态

## 技术实现要点
- 主题使用约定
  - 背景：`bg`/`surface`；文本：`text.primary`/`text.secondary`；边框：`border`
  - 类名映射：如 `text-text-primary`、`bg-surface`、`border-border`
- 数据仓库 API（函数签名示例）
  - `loadProjects(): Project[]`、`saveProjects(Project[]): void`、`createProject(): Project`
  - `loadProject(id): ProjectData`、`saveProject(id, data): void`
- 性能与交互
  - 滚动条：保留现有 `useScrollbar` 与 Overlay，统一触发与节流
  - 虚拟化：仅在项目项数较多时启用；避免引入复杂第三方库

## 风险与注意
- Tailwind 颜色嵌套类名需按 key 路径使用；替换色值时逐页验证
- Electron 打包暂不进入本阶段，优先保证 Web/桌面 dev 流畅
- 不引入新库，确保学习成本最低；后续再选择状态管理库（如 Zustand）

## 第一批改动清单（确认后执行）
- 主页与文案页的硬编码颜色替换为主题类
- 主页移动端遮罩改为受控开关；侧栏行为统一
- 抽出 `src/store/project.ts` 封装 localStorage 读写与类型
- 路由新增 Storyboard 页占位并接入主导航

## 交付物
- 可运行的统一风格界面与基础数据流
- 轻量单测与预览流程文档（简短操作说明）
- 下一期（AI 接入、打包、插件化）的规划草图